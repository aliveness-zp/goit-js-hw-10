{"mappings":"AAEA,MAAMA,EAAgBC,SAASC,cAAc,QACvCC,EAAWF,SAASC,cAAc,UACrBD,SAASC,cAAc,UAC1C,IAEIE,EAAO,EAGX,MAOMC,EAAM,8CALG,IAAIC,gBAAgB,CACjCC,OALU,EAMVC,MAAOJ,MAKTJ,EAAcS,iBAAiB,SAI/B,WACE,GAAIL,EAdY,GAed,OAAOM,mBAoBFC,MAAMN,GAAKO,MAAKC,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IApBrBL,MAAKM,KA0BV,SAAqBA,GACnB,MAAMC,EAASD,EACZE,KAAI,EAACC,GAAEA,EAAEC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,KAChB,0CACsBF,EAAMG,MAAM,EAAG,0CACnBJ,yCACEG,yCACAD,yBAG5BG,KAAK,IACRvB,EAASwB,mBAAmB,YAAaR,E,CApCrCS,CAAYV,GAEZd,GAAQ,EAGJA,EAAO,IACTJ,EAAc6B,YAAc,mBAAkB,IAGjDC,OAAMC,GAASC,QAAQC,IAAIF,I","sources":["src/example.js"],"sourcesContent":["import './css/styles.css';\n\nconst fetchPostsBtn = document.querySelector('.btn');\nconst userList = document.querySelector('.posts');\nconst alertPopUp = document.querySelector('.alert');\nlet isAlertVisible = false;\n\nlet page = 1;\nlet limit = 5;\n\nconst totalPage = 100 / limit;\n\nconst params = new URLSearchParams({\n  _limit: limit,\n  _page: page,\n});\n\nconst URL = `https://jsonplaceholder.typicode.com/posts?${params}`;\n\nfetchPostsBtn.addEventListener('click', onCliskAddPosts);\n\n// 1. onClick function\n\nfunction onCliskAddPosts() {\n  if (page > totalPage) {\n    return toggleAlertPopup();\n  }\n\n  fetchPosts()\n    .then(posts => {\n      renderPosts(posts);\n      // Increase the group number\n      page += 1;\n\n      // Replace button text after first request\n      if (page > 1) {\n        fetchPostsBtn.textContent = 'Fetch more posts';\n      }\n    })\n    .catch(error => console.log(error));\n}\n\n// 2. fetch function\n\nfunction fetchPosts() {\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\n// 3. render function\n\nfunction renderPosts(posts) {\n  const markup = posts\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n          <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n          <p><b>Post id</b>: ${id}</p>\n          <p><b>Author id</b>: ${userId}</p>\n          <p class=\"post-body\">${body}</p>\n        </li>`;\n    })\n    .join('');\n  userList.insertAdjacentHTML('beforeend', markup);\n}\n\n// 4. alert function\n\nfunction toggleAlertPopUp() {\n  if (isAlertVisible) {\n    return;\n  }\n  isAlertVisible = true;\n  alertPopUp.classList.add('is-visible');\n  setTimeout(() => {\n    alertPopUp.classList.remove('is-visible');\n    isAlertVisible = false;\n  }, 3000);\n}\n\n// const fetchPostsBtn = document.querySelector('.btn');\n// const userList = document.querySelector('.posts');\n// const alertPopup = document.querySelector('.alert');\n// let isAlertVisible = false;\n\n// // Controls the group number\n// let page = 1;\n// // Controls the number of items in the group\n// let limit = 5;\n// // In our case total number of pages is calculated on frontend\n// const totalPages = 100 / limit;\n\n// fetchPostsBtn.addEventListener('click', () => {\n//   // Check the end of the collection to display an alert\n//   if (page > totalPages) {\n//     return toggleAlertPopup();\n//   }\n\n//   fetchPosts()\n//     .then(posts => {\n//       renderPosts(posts);\n//       // Increase the group number\n//       page += 1;\n\n//       // Replace button text after first request\n//       if (page > 1) {\n//         fetchPostsBtn.textContent = 'Fetch more posts';\n//       }\n//     })\n//     .catch(error => console.log(error));\n// });\n\n// function fetchPosts() {\n//   const params = new URLSearchParams({\n//     _limit: limit,\n//     _page: page,\n//   });\n\n//   return fetch(`https://jsonplaceholder.typicode.com/posts?${params}`).then(\n//     response => {\n//       if (!response.ok) {\n//         throw new Error(response.status);\n//       }\n//       return response.json();\n//     }\n//   );\n// }\n\n// function renderPosts(posts) {\n//   const markup = posts\n//     .map(({ id, title, body, userId }) => {\n//       return `<li>\n//           <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n//           <p><b>Post id</b>: ${id}</p>\n//           <p><b>Author id</b>: ${userId}</p>\n//           <p class=\"post-body\">${body}</p>\n//         </li>`;\n//     })\n//     .join('');\n//   userList.insertAdjacentHTML('beforeend', markup);\n// }\n\n// function toggleAlertPopup() {\n//   if (isAlertVisible) {\n//     return;\n//   }\n//   isAlertVisible = true;\n//   alertPopup.classList.add('is-visible');\n//   setTimeout(() => {\n//     alertPopup.classList.remove('is-visible');\n//     isAlertVisible = false;\n//   }, 3000);\n// }\n"],"names":["$ad0c00fa2b20be1c$var$fetchPostsBtn","document","querySelector","$ad0c00fa2b20be1c$var$userList","$ad0c00fa2b20be1c$var$page","$ad0c00fa2b20be1c$var$URL","URLSearchParams","_limit","_page","addEventListener","toggleAlertPopup","fetch","then","response","ok","Error","status","json","posts","markup","map","id","title","body","userId","slice","join","insertAdjacentHTML","$ad0c00fa2b20be1c$var$renderPosts","textContent","catch","error","console","log"],"version":3,"file":"example.b6b0a662.js.map"}