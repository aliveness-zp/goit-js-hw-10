{"mappings":"YAEA,IAAMA,EAAgBC,SAASC,cAAc,QACvCC,EAAWF,SAASC,cAAc,UAIpCE,GAHeH,SAASC,cAAc,UAG/B,GAKLG,EAAS,IAAIC,gBAAgB,CACjCC,OALU,EAMVC,MAAOJ,IAGHK,EAAM,8CAAqDC,OAAPL,GAE1DL,EAAcW,iBAAiB,SAI/B,WACE,GAAIP,EAdY,GAed,OAAOQ,mBAoBFC,MAAMJ,GAAKK,MAAK,SAAAC,GACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IApBfL,MAAK,SAAAM,IA0BV,SAAqBA,GACnB,IAAMC,EAASD,EACZE,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OACvB,MAAO,0CAEkBjB,OADIe,EAAMG,MAAM,EAAG,IAAI,wCAErBlB,OADFc,EAAG,yCAEDd,OADAiB,EAAO,yCACFjB,OAALgB,EAAK,sB,IAGjCG,KAAK,IACR1B,EAAS2B,mBAAmB,YAAaT,E,CApCrCU,CAAYX,IAEZhB,GAAQ,GAGG,IACTJ,EAAcgC,YAAc,mB,IAG/BC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E","sources":["src/example.js"],"sourcesContent":["import './css/styles.css';\n\nconst fetchPostsBtn = document.querySelector('.btn');\nconst userList = document.querySelector('.posts');\nconst alertPopUp = document.querySelector('.alert');\nlet isAlertVisible = false;\n\nlet page = 1;\nlet limit = 5;\n\nconst totalPage = 100 / limit;\n\nconst params = new URLSearchParams({\n  _limit: limit,\n  _page: page,\n});\n\nconst URL = `https://jsonplaceholder.typicode.com/posts?${params}`;\n\nfetchPostsBtn.addEventListener('click', onCliskAddPosts);\n\n// 1. onClick function\n\nfunction onCliskAddPosts() {\n  if (page > totalPage) {\n    return toggleAlertPopup();\n  }\n\n  fetchPosts()\n    .then(posts => {\n      renderPosts(posts);\n      // Increase the group number\n      page += 1;\n\n      // Replace button text after first request\n      if (page > 1) {\n        fetchPostsBtn.textContent = 'Fetch more posts';\n      }\n    })\n    .catch(error => console.log(error));\n}\n\n// 2. fetch function\n\nfunction fetchPosts() {\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\n// 3. render function\n\nfunction renderPosts(posts) {\n  const markup = posts\n    .map(({ id, title, body, userId }) => {\n      return `<li>\n          <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n          <p><b>Post id</b>: ${id}</p>\n          <p><b>Author id</b>: ${userId}</p>\n          <p class=\"post-body\">${body}</p>\n        </li>`;\n    })\n    .join('');\n  userList.insertAdjacentHTML('beforeend', markup);\n}\n\n// 4. alert function\n\nfunction toggleAlertPopUp() {\n  if (isAlertVisible) {\n    return;\n  }\n  isAlertVisible = true;\n  alertPopUp.classList.add('is-visible');\n  setTimeout(() => {\n    alertPopUp.classList.remove('is-visible');\n    isAlertVisible = false;\n  }, 3000);\n}\n\n// const fetchPostsBtn = document.querySelector('.btn');\n// const userList = document.querySelector('.posts');\n// const alertPopup = document.querySelector('.alert');\n// let isAlertVisible = false;\n\n// // Controls the group number\n// let page = 1;\n// // Controls the number of items in the group\n// let limit = 5;\n// // In our case total number of pages is calculated on frontend\n// const totalPages = 100 / limit;\n\n// fetchPostsBtn.addEventListener('click', () => {\n//   // Check the end of the collection to display an alert\n//   if (page > totalPages) {\n//     return toggleAlertPopup();\n//   }\n\n//   fetchPosts()\n//     .then(posts => {\n//       renderPosts(posts);\n//       // Increase the group number\n//       page += 1;\n\n//       // Replace button text after first request\n//       if (page > 1) {\n//         fetchPostsBtn.textContent = 'Fetch more posts';\n//       }\n//     })\n//     .catch(error => console.log(error));\n// });\n\n// function fetchPosts() {\n//   const params = new URLSearchParams({\n//     _limit: limit,\n//     _page: page,\n//   });\n\n//   return fetch(`https://jsonplaceholder.typicode.com/posts?${params}`).then(\n//     response => {\n//       if (!response.ok) {\n//         throw new Error(response.status);\n//       }\n//       return response.json();\n//     }\n//   );\n// }\n\n// function renderPosts(posts) {\n//   const markup = posts\n//     .map(({ id, title, body, userId }) => {\n//       return `<li>\n//           <h2 class=\"post-title\">${title.slice(0, 30)}</h2>\n//           <p><b>Post id</b>: ${id}</p>\n//           <p><b>Author id</b>: ${userId}</p>\n//           <p class=\"post-body\">${body}</p>\n//         </li>`;\n//     })\n//     .join('');\n//   userList.insertAdjacentHTML('beforeend', markup);\n// }\n\n// function toggleAlertPopup() {\n//   if (isAlertVisible) {\n//     return;\n//   }\n//   isAlertVisible = true;\n//   alertPopup.classList.add('is-visible');\n//   setTimeout(() => {\n//     alertPopup.classList.remove('is-visible');\n//     isAlertVisible = false;\n//   }, 3000);\n// }\n"],"names":["$c8cd63e74b620bdc$var$fetchPostsBtn","document","querySelector","$c8cd63e74b620bdc$var$userList","$c8cd63e74b620bdc$var$page","$c8cd63e74b620bdc$var$params","URLSearchParams","_limit","_page","$c8cd63e74b620bdc$var$URL","concat","addEventListener","toggleAlertPopup","fetch","then","response","ok","Error","status","json","posts","markup","map","param","id","title","body","userId","slice","join","insertAdjacentHTML","$c8cd63e74b620bdc$var$renderPosts","textContent","catch","error","console","log"],"version":3,"file":"example.5f475ad4.js.map"}